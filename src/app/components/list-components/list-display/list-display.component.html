<div *ngIf="listInfo; else loadingGifts">
  <!-- Display list owner -->
  <div *ngIf="listType !== 'shopping' && !isOwnedByCurrentUser" class="list-owner-display">
    <img [src]="listOwner?.['pfp']" alt="">
    <span>{{listOwner?.['displayName']}}</span>
  </div>
  <!-- Display gifts -->
  <div *ngIf="listInfo !== {}; else noGifts">
    <!-- If is shopping-list -->
    <div *ngIf="listType === 'shopping'; else wishDisplay">
      <div *ngFor="let list of listInfo | keyvalue">
        <div class="list-owner-display">
          <img [src]="list.value.user.pfp" [alt]="list.value.user.displayName + ' profile picture'">
          <span>{{list.value.user.displayName}}</span>
        </div>
        <app-gift-display
          *ngFor="let gift of list.value.gifts | keyvalue"
          class="gift"
          [gift]="gift.value"
          [isChecked]="getIsChecked(gift.value)"
          (giftClicked)="showInModal(gift.value)"
          >
        </app-gift-display>
        <hr>
      </div>
    </div>
    <!-- If is wish-list -->
    <ng-template #wishDisplay>
      <div *ngFor="let list of listInfo | keyvalue">
        <app-gift-display
          *ngFor="let gift of list.value.gifts | keyvalue"
          class="gift"
          [gift]="gift.value"
          [isChecked]="getIsChecked(gift.value)"
          (giftClicked)="showInModal(gift.value)"
          >
        </app-gift-display>
      </div>
    </ng-template>
  </div>
  <!-- If no gifts -->
  <ng-template #noGifts>{{noGiftsMessage}}</ng-template>
</div>
<!-- Loading gifts -->
<ng-template #loadingGifts>Loading gifts...</ng-template>

<!-- Gift details slide-over -->
<app-gift-details-modal
  [gift]="giftInModal"
  [type]="listType"
  (onGiftClaim)="claimGift()"
  (onStatusUpdated)="setStatus($event)"
  >
</app-gift-details-modal>